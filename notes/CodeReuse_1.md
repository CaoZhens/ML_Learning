# 代码复用

## 概述

目的：

主要解决数据特征批处理问题；当数据的特征数很大时，不可能逐个处理，需要对相同处理方案的字段进行代码复用。

基本思路：
* 明确处理单元：行or列？ 每次处理单行／列or多行／列？
* 明确单元处理函数
* 明确合并方法

## 两种基本形式

### 对数据分类
从数据索引（一般指行索引）的角度，可以将数据划分成两类：
* 索引唯一数据：行索引在数据中具有唯一性，同一个索引仅可能出现在一行数据当中
* 索引非唯一数据：同一个索引可能出现在多行数据中
* 备注：以上两类还可以分别衍生出多索引

### 形式一：单行／列处理单元的复用
* 明确处理单元：行列均可，每次仅处理一行或一列(`loc`或`iloc`)
* 明确单元处理函数：任意
* 合并方法：
* 应用举例：
    * 单行处理单元复用：数据读取
    * 单列处理单元复用：[数据摘要](./study/10_FeatureEngineering/codereuse_exp_1.py) 

### 形式二：多行／列处理单元的复用
* 明确处理单元：行列均可，每次处理多行或多列，对多行／列分组(`groupby`)
* 明确单元处理函数：只能使用`groupby`对应的简单统计函数
* 合并方法：
* 应用举例：
    * 多行处理单元复用：按索引汇总
    * 多列处理单元复用：相似列统计数值特征